{"version":3,"sources":["js/main/Navigator.js","js/higher/wrapWithAjaxGetData.js","js/Time.js","js/book/BookInfo.js","js/book/BookList.js","js/home/BookListInHome.js","js/home/Home.js","js/higher/HigherLogin.js","js/write/Write.js","js/message/Comment.js","js/message/CommentList.js","js/message/CommentListInMessage.js","js/message/Message.js","js/mypage/Information.js","js/mypage/User.js","js/mypage/UserList.js","js/mypage/Page.js","js/mypage/MyPage.js","js/login/Login.js","js/settings/Settings.js","js/read/Directory.js","js/read/DirectoryList.js","js/comment/CommentInput.js","js/comment/Comment.js","js/comment/CommentList.js","js/comment/CommentApp.js","js/read/Textarea.js","js/read/MainContent.js","js/read/Content.js","js/read/ReadSideBar.js","js/read/Read.js","js/mypage/OtherPage.js","js/main/Content.js","App.js","serviceWorker.js","index.js"],"names":["Navigator","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","value","handleChange","bind","assertThisInitialized","event","setState","target","cname","name","ca","document","cookie","split","i","length","c","trim","indexOf","substring","userid","getCookie","item","checkCookie","react_default","a","createElement","Nav","Link","href","localStorage","getItem","className","Navbar","bg","variant","sticky","Collapse","id","Brand","Form","inline","FormControl","type","placeholder","Button","Component","wrapWithAjaxGetData","WrappedComponent","url","_Component","NewComponent","data","inherits","createClass","key","_this2","axios","get","then","res","catch","Time","renderTime","date","Date","getFullYear","getMonth","getDay","getHours","getMinutes","getSeconds","time","BookInfo","param","author","bookid","des","description","JSON","stringify","path","concat","ListGroupItem_default","action","react_router_dom","to","pathname","js_Time","datetime","love","BookList","datas","index","temp","photourl","push","ListGroup_default","map","idx","book_BookInfo","BookListInHome","book_BookList","Home","home_BookListInHome","HigherLogin","apply","arguments","nameEQ","charAt","Write","bookname","booklist","handleNameChange","handleSubmit","err","alert","e","book","post","Label","Control","onChange","Button_default","onClick","Comment","content","replace","commentid","es_ListGroupItem","commentuser","dangerouslySetInnerHTML","__html","_getProcessedContent","chaptername","CommentList","undefined","es_ListGroup","message_Comment","CommentListInMessage","message_CommentList","Message","message_CommentListInMessage","Information","objectSpread","username","Container_default","email","selfintroduction","githubpage","homepage","User","UserList","users","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","return","analyseData","mypage_User","Page","mypage_Information","information","Tabs_default","defaultActiveKey","Tab_default","eventKey","title","bookList_write","bookList_follow","console","log","mypage_UserList","userList_follow","userList_be_followed","MyPage","mypage_Page","Login","password","handleUserInputChange","handlePasswordInputChange","days","expires","setTime","getTime","toGMTString","setItem","status","setCookie","setLocalStorage","history","size","Settings","handleInputChange","handleClick","Axios","file","accept","handleFile","Directory","info","DirectoryList","directory","names","getNames","read_Directory","CommentInput","onSubmit","_this$state","InputGroup","aria-label","handleContentChange","Append","comment_Comment","CommentApp","comments","getComments","prevProps","prevState","snapshot","chapter","newChapter","chapterid","comment","newComment","comment_CommentInput","handleSubmitComment","comment_CommentList","Textarea","save","MainContent","contentItem","handleEdit","marked","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","sanitize","smartLists","smartypants","highlight","code","hljs","highlightAuto","getData","match","params","parse","analyse","read_Textarea","comment_CommentApp","Content","react_router","component","ReadSideBar","followauthor","followbook","handleFollowAuthor","handleFollowBook","handleTop","followbookid","authorname","_this3","_this4","body","scrollTop","documentElement","Item","Read","read_ReadSideBar","read_DirectoryList","read_Content","location","OtherPage","Container","exact","App","main_Navigator","main_Content","Boolean","window","hostname","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ad59056a.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nimport '../../App.css'\r\nimport {Button, Form, FormControl, Nav, Navbar,} from 'react-bootstrap';\r\n\r\n// 导航栏由 一个logo 5个按钮和一个搜索框组成，其中点击”我的“按钮 会检测用户是否处于登录状态，如果不是则跳转到登录页面\r\n// 如果不是 ， 则出现下拉框。。mypage和settings\r\nclass Navigator extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {value: ''};\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({value: event.target.value});\r\n  }\r\n\r\n  getCookie(cname) {\r\n    let name = cname + \"=\";\r\n    let ca = document.cookie.split(';');\r\n    for (let i = 0; i < ca.length; i++) {\r\n      let c = ca[i].trim();\r\n      if (c.indexOf(name) === 0) {\r\n        return c.substring(name.length, c.length);\r\n      }\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  checkCookie() {\r\n    let userid = this.getCookie(\"userid\");\r\n    return !(userid === '' || userid === -1);\r\n    //默认是-1  而无该key 则为''\r\n  }\r\n\r\n  render() {\r\n    let item;\r\n    if (this.checkCookie()) { //有cookie说明登录成功了，显示我的页面\r\n      // item=<NavLink to=\"/mypage\">我的</NavLink>;\r\n      item = <Nav.Link href=\"/mypage\">{localStorage.getItem(\"name\")}</Nav.Link>;\r\n    } else {\r\n      item = <Nav.Link href=\"/user/login\">登录</Nav.Link>;\r\n    }\r\n\r\n    return <div className=\"Navigator\">\r\n      <Navbar bg=\"dark\" variant=\"dark\" sticky=\"top\">\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n            <Navbar.Brand href=\"/home\"> RBooks</Navbar.Brand>\r\n            <Nav.Link href=\"/settings\">设置</Nav.Link>\r\n            <Nav.Link href=\"/message\"> 消息</Nav.Link>\r\n            <Nav.Link href=\"/write\"> 写书</Nav.Link>\r\n\r\n            {item}\r\n          </Nav>\r\n          <Form inline>\r\n            <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-4\"/>\r\n            <Button variant=\"outline-light\">Search</Button>\r\n          </Form>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </div>\r\n\r\n  }\r\n}\r\n\r\nexport default Navigator;\r\n","import React, {Component} from 'react'\r\nimport axios from 'axios';\r\n\r\nexport default (WrappedComponent, url) => {\r\n  class NewComponent extends Component {\r\n    constructor() {\r\n      super();\r\n      this.state = {data: ''}\r\n    }\r\n\r\n    componentWillMount() {\r\n      axios.get('http://localhost:8080/' + url)\r\n      .then(res => {\r\n        this.setState({data: res.data});\r\n      }).catch(res => {\r\n        this.setState({data: \"加载错误\"})\r\n      })\r\n    }\r\n\r\n    render() {\r\n      return (\r\n         <WrappedComponent data={this.state.data}/>\r\n      );\r\n    }\r\n  }\r\n\r\n  return NewComponent\r\n}","import React, {Component} from 'react';\r\nimport '../css/content.css'\r\n// 渲染时间的显示，第一个是时间戳，第二个是后台传来的Date\r\nclass Time extends Component {\r\n\r\n  render() {\r\n    let {data} = this.props; //获取评论数据\r\n    //在用户评论后更新评论列表时\r\n    //用户评论是 时间戳，在这里解析会报错\r\n    // console.log(datetime);\r\n    let renderTime = '';\r\n    // console.log(data instanceof Number);\r\n    // console.log(data instanceof String);\r\n    // console.log(typeof data)\r\n    // console.log(data);\r\n    if (typeof data === \"number\") { //时间戳是数值型的\r\n      let date = new Date(data); //利用时间戳获取Date对象\r\n      // console.log(renderTime)\r\n      renderTime = date.getFullYear() + \"-\" + date.getMonth() + 1 + \"-\"\r\n          + date.getDay() + \" \" + date.getHours() + \":\" + date.getMinutes()\r\n          + \":\" + date.getSeconds();\r\n\r\n    }\r\n    if (typeof data === \"string\"&&data.indexOf(\"T\")!==-1) { //后台传来的\r\n      let date = data.split(\"T\");\r\n      // console.log(date)\r\n      let time = date[1].split(\".\");\r\n      // console.log(time)\r\n\r\n      renderTime = date[0] + \" \" + time[0];\r\n      // console.log(renderTime)\r\n    }\r\n\r\n    return <span>{renderTime}</span>\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport default Time","import React, {Component} from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport ListGroupItem from \"react-bootstrap/ListGroupItem\";\r\nimport '../../css/main.css'\r\nimport Time from \"../Time\";\r\n\r\nclass BookInfo extends Component {\r\n\r\n  render() {\r\n    let param = {\r\n      author: this.props.data.author,\r\n      bookid: this.props.data.id,\r\n    };\r\n    const des = {\r\n      description: this.props.data.description\r\n    };\r\n    param = JSON.stringify(param);\r\n    let path = `/read/${param}`;  //传参数过去\r\n    return (\r\n        <div className=\"BookItem\">\r\n          <ListGroupItem variant=\"light\" action>\r\n            <div className=\"BookInfo\">\r\n              <span>书籍编号：</span>{this.props.data.id}\r\n              <br/>\r\n              <NavLink to={{\r\n                pathname: `${path}`,\r\n                state: {des}\r\n              }}>\r\n                {this.props.data.name}\r\n              </NavLink>\r\n              <div className=\"Author\">\r\n                {this.props.data.author}<span> 编著</span>\r\n              </div>\r\n              {/*{this.props.data.description}*/}\r\n              <br/>\r\n\r\n              <span>更新时间：</span> <Time data={this.props.data.datetime}/>\r\n\r\n              {/*{this.props.data.photourl}*/}\r\n              <div className=\"Love\">\r\n                <span>点赞：</span> {this.props.data.love}\r\n              </div>\r\n            </div>\r\n            {/*<div className=\"BookPhoto\">*/}\r\n            {/*<Figure>*/}\r\n            {/*<Figure.Image*/}\r\n            {/*width={80}*/}\r\n            {/*height={100}*/}\r\n            {/*alt=\"80x100\"*/}\r\n            {/*src={logo}*/}\r\n            {/*/>*/}\r\n            {/*</Figure>*/}\r\n            {/*</div>*/}\r\n          </ListGroupItem>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookInfo;\r\n","import React, {Component} from 'react';\r\nimport BookInfo from \"./BookInfo\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\n\r\n// 没经过高阶组件获取数据，可以为多个路径服务\r\nclass BookList extends Component {\r\n\r\n  data() {\r\n    const data = this.props.data;\r\n    let datas = [];\r\n    for (let index in data) {\r\n      let temp;\r\n      temp = {\r\n        id: data[index].id,\r\n        name: data[index].name,\r\n        author: data[index].author,\r\n        description: data[index].description,\r\n        datetime: data[index].datetime,\r\n        photourl: data[index].photourl,\r\n        love: data[index].love\r\n      };\r\n\r\n      datas.push(temp);\r\n    }\r\n\r\n    return datas;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n        <ListGroup>\r\n          {this.data().map((item, idx) => {\r\n            return <BookInfo key={idx} data={item}/>\r\n          })}\r\n        </ListGroup>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookList;\r\n","import React, {Component} from 'react';\r\nimport wrapWithAjaxGetData from '../higher/wrapWithAjaxGetData';\r\nimport BookList from \"../book/BookList\";\r\n\r\nclass BookListInHome extends Component {\r\n\r\n  render() {\r\n    return <BookList data={this.props.data}/>\r\n  }\r\n}\r\n\r\nBookListInHome = wrapWithAjaxGetData(BookListInHome, 'home');\r\nexport default BookListInHome;\r\n","import React, { Component } from 'react';\r\nimport BookListInHome from \"./BookListInHome\";\r\n\r\n\r\nclass Home extends Component {\r\n  render() {\r\n    return (\r\n        <div>\r\n          <BookListInHome/>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React, {Component} from 'react'\r\n\r\nexport default (WrappedComponent) => {\r\n  class  NewComponent extends Component {\r\n    // 这里定义登录权限组件， 如果缓存的logined = true 则渲染该组件，否则渲染成Login组件\r\n    // 检查 cookie 是否还在，好像 localStorage 不能设置过期时间\r\n\r\n\r\n    getCookie(name) {\r\n      var nameEQ = name + \"=\";\r\n      var ca = document.cookie.split(';');\r\n      for(var i=0;i < ca.length;i++) {\r\n        var c = ca[i];\r\n        while (c.charAt(0)===' ') c = c.substring(1,c.length);\r\n        if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length,c.length);\r\n      }\r\n      return null;\r\n    }\r\n\r\n    checkCookie() {\r\n      let userid = this.getCookie(\"userid\");\r\n      return !(userid === null || userid === -1);\r\n      //默认是-1  而无该key 则为''\r\n    }\r\n\r\n    render() {\r\n      if (this.checkCookie()) {\r\n        return <WrappedComponent/>\r\n      } else {\r\n        // this.props.history.push('/home');  //使用React-router 重定向，但是这个组件需要使用 react-router 的服务\r\n        return <div>你还没有登录，请先登录！</div>\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  return NewComponent\r\n}\r\n","import React, {Component} from 'react';\r\nimport HigherLogin from \"../higher/HigherLogin\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport '../../css/main.css'\r\nimport axios from 'axios'\r\nimport BookList from \"../book/BookList\";\r\n\r\n// 最终由 Navigator Content Footer 三个组件构成\r\nclass Write extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bookname: '',\r\n      description: '',\r\n      booklist: ''\r\n    };\r\n    this.handleNameChange = this.handleNameChange.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    axios.get(\r\n        `http://localhost:8080/write/getwrite?author=${localStorage.getItem(\r\n            'name')}`)\r\n    .then(res => {\r\n      this.setState({booklist: res.data})\r\n    }).catch(err => {\r\n      alert(err.data);\r\n    })\r\n  }\r\n\r\n  handleNameChange(e) {\r\n    this.setState({bookname: e.target.value})\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({description: e.target.value})\r\n\r\n  }\r\n\r\n  handleSubmit() {\r\n    // id photourl love  都不填\r\n    let book = {\r\n      name: this.state.bookname,\r\n      author: localStorage.getItem('name'),\r\n      description: this.state.description,\r\n      datetime: new Date()\r\n    };\r\n\r\n    axios.post(\"http://localhost:8080/write/addbook\", book)\r\n    .then(res => {\r\n      if (res.data !== -1) {\r\n        alert(\"添加成功\")\r\n      }\r\n    })\r\n    .catch(err => {\r\n      alert(err.data)\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n          <div className=\"newbook\">\r\n            开始一本新书:\r\n            <br/>\r\n            <Form.Label>书名：</Form.Label>\r\n            <Form.Control type=\"text\"\r\n                          onChange={this.handleNameChange}\r\n                          value={this.state.bookname}\r\n                          name=\"bookname\"/>\r\n            <Form.Label>书本介绍：</Form.Label>\r\n            <br/>\r\n            <textarea className=\"textarea\"\r\n                      onChange={this.handleChange}\r\n                      value={this.state.description}\r\n                      name=\"bookname\"\r\n                      placeholder=\"关于本书你想说些啥呢？\"\r\n            />\r\n            <br/>\r\n            <Button variant=\"success\" onClick={this.handleSubmit}>保存</Button>\r\n          </div>\r\n          <div className=\"nav-booklist\">\r\n            <BookList data={this.state.booklist}/>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nWrite = HigherLogin(Write);\r\nexport default Write;\r\n","import React, {Component} from 'react';\r\nimport '../../css/comment.css'\r\nimport '../../css/content.css'\r\nimport {ListGroupItem} from \"react-bootstrap\";\r\nimport Time from \"../Time\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nclass Comment extends Component {\r\n\r\n  _getProcessedContent(content) {\r\n    // return content.replace(/`([\\S\\s]+?)`/g,`<code></code>`);\r\n    // 将content 中的`` 替换成 <code></code>\r\n    // 这样做会有严重的 Xss漏洞， 所以我们必须要手动把这些HTML标签转义，\r\n    return content\r\n    .replace(/&/g, \"&amp;\")\r\n    .replace(/</g, \"&lt;\")\r\n    .replace(/>/g, \"&gt;\")\r\n    .replace(/\"/g, \"&$quot;\")\r\n    .replace(/'/g, \"&#039;\")\r\n    .replace(/`([\\S\\s]+?)`/g, `<code></code>`);\r\n\r\n  }\r\n\r\n  //\r\n  // getDate(){\r\n  //   const {data} = this.props;\r\n  //   let date={\r\n  //     year:data.datetime\r\n  //   };\r\n  //   return date;\r\n  // }\r\n  render() {\r\n    const {data} = this.props; //获取评论数据\r\n    let datetime = data.commentid.datetime;  //在用户评论后更新评论列表时\r\n    //用户评论是 时间戳，在这里解析会报错\r\n    // console.log(datetime);\r\n    // datetime=JSON.stringify(datetime);\r\n    // let date=datetime.split(\"T\");\r\n    // let time=date[1].split(\".\");\r\n\r\n    return (\r\n        <ListGroupItem action variant=\"light\">\r\n\r\n          <div className=\"comment-margin\">\r\n            <span className=\"comment-user\">{data.commentuser}</span>{' '}:\r\n            <span className=\"title-date\"><Time data={datetime}/></span>\r\n\r\n            {/*{datetime}*/}\r\n          </div>\r\n          <p dangerouslySetInnerHTML={{\r\n            __html: this._getProcessedContent(data.content)\r\n          }}/>\r\n          <NavLink><span>书籍编号:{data.commentid.bookid},章节名称:{data.commentid.chaptername}</span></NavLink>\r\n        </ListGroupItem>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Comment","import React, {Component} from 'react';\r\nimport Comment from \"./Comment\";\r\nimport {ListGroup} from 'react-bootstrap'\r\nclass CommentList extends Component {\r\n\r\n  data() {\r\n    const data = this.props.data;\r\n    // console.log(data); //数据正常\r\n    let datas = [];\r\n    if (data === undefined) {\r\n      return [];\r\n    }\r\n    for (let index in data) {\r\n      let temp;\r\n      // console.log(data[index]);\r\n      if (data[index] === [] || data[index] === undefined) {\r\n        continue;\r\n      }\r\n      temp = {\r\n        commentid: {\r\n          bookid: data[index].commentid.bookid,\r\n          chaptername: data[index].commentid.chaptername,\r\n          datetime: data[index].commentid.datetime,\r\n        },\r\n        commentuser: data[index].commentuser,\r\n        content: data[index].content\r\n      };\r\n\r\n      datas.push(temp);\r\n    }\r\n\r\n    return datas;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n        <ListGroup>\r\n        {this.data().map((item, idx) => {\r\n          return <Comment key={idx} data={item}/>\r\n        })}\r\n        </ListGroup>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CommentList;\r\n","import React, {Component} from 'react';\r\nimport wrapWithAjaxGetData from '../higher/wrapWithAjaxGetData';\r\nimport CommentList from \"./CommentList\";\r\n\r\nclass CommentListInMessage extends Component {\r\n\r\n  render() {\r\n    return <CommentList data={this.props.data}/>\r\n  }\r\n}\r\n\r\nCommentListInMessage = wrapWithAjaxGetData(CommentListInMessage,`message?commentuser=${localStorage.getItem('name')}`);\r\nexport default CommentListInMessage;\r\n","import React, {Component} from 'react';\r\nimport HigherLogin from '../higher/HigherLogin';\r\nimport CommentListInMessage from \"./CommentListInMessage\";\r\nimport '../../css/comment.css'\r\nclass Message extends Component {\r\n\r\n  render() {\r\n\r\n    return (\r\n        <div className=\"comment-margin\">\r\n          迄今为止发过的评论:\r\n          <CommentListInMessage />\r\n        </div>\r\n        )\r\n  }\r\n}\r\n\r\nMessage = HigherLogin(Message); // 最外围的是 增加登录验证\r\n\r\nexport default Message;\r\n","import React, {Component} from 'react';\r\nimport Container from \"react-bootstrap/Container\";\r\nimport '../../css/mypage.css'\r\n\r\nclass Information extends Component {\r\n\r\n  render() {\r\n    const data = {...this.props.data};\r\n    // console.log(data);\r\n    return (\r\n        <div className=\"information\">\r\n          <span className=\"information-title\"><h1>{data.username}</h1></span>\r\n          <Container>\r\n            <label>邮箱：</label> <span>{data.email}</span><br/>\r\n            <label>自我介绍：</label> <span>{data.selfintroduction}</span><br/>\r\n            <label>github：</label> <span>{data.githubpage}</span><br/>\r\n            <label>homepage：</label> <span>{data.homepage}</span><br/>\r\n          </Container>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Information;\r\n","import React, {Component} from 'react';\r\nimport '../../css/mypage.css'\r\nimport {ListGroupItem} from \"react-bootstrap\";\r\n\r\nclass User extends Component {\r\n\r\n  render() {\r\n    // const data={...this.props.state};\r\n    // console.log(data);\r\n    // console.log(this.props.location.state);\r\n    const data = {...this.props.data};\r\n    // console.log(this.props);\r\n    return (\r\n        <div className=\"user\">\r\n\r\n            <ListGroupItem action variant=\"light\">\r\n              {data.name}\r\n            </ListGroupItem>\r\n\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default User;\r\n","import React, {Component} from 'react';\r\nimport '../../css/mypage.css'\r\nimport User from \"./User\";\r\nimport {ListGroup} from \"react-bootstrap\";\r\n\r\nclass UserList extends Component {\r\n\r\n  analyseData(){\r\n    const data=this.props.data;\r\n    // console.log(this.props);\r\n    if(typeof(data)=== \"undefined\"){\r\n      return [];\r\n    }\r\n    let users=[];\r\n    for(let item of data){\r\n      // console.log(item)\r\n      let temp={\r\n        id:item.id,\r\n        name:item.name\r\n      };\r\n      users.push(temp);\r\n    }\r\n    return users;\r\n  }\r\n\r\n  render() {\r\n    // const data={...this.props.state};\r\n    // console.log(data);\r\n    // const data={...this.props.location.state};\r\n    // console.log(data);\r\n\r\n    return (\r\n        <ListGroup>\r\n          {this.analyseData().map((item,idx)=>{\r\n            // console.log(item);\r\n            return <User data={item} key={idx}/>\r\n          })}\r\n\r\n        </ListGroup>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserList;\r\n","import React, {Component} from 'react';\r\nimport Information from \"./Information\";\r\nimport '../../css/mypage.css'\r\nimport UserList from \"./UserList\";\r\nimport Tabs from \"react-bootstrap/Tabs\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport BookList from \"../book/BookList\";\r\n\r\n// import NavLink from \"react-bootstrap/NavLink\";\r\n\r\nclass Page extends Component {\r\n\r\n  render() {\r\n    // console.log(this.props);\r\n    return (\r\n        <div>\r\n          <Information data={this.props.data.information}/>\r\n\r\n          {/*<div className=\"nav\">*/}\r\n            {/*<Nav.Item>*/}\r\n              {/*<NavLink to={{*/}\r\n                {/*pathname: `/${this.props.param}/write`,*/}\r\n                {/*state: this.props.data.bookList_write*/}\r\n              {/*}}>作品集</NavLink>*/}\r\n            {/*</Nav.Item>*/}\r\n            {/*<Nav.Item>*/}\r\n              {/*<NavLink to={{*/}\r\n                {/*pathname: `/${this.props.param}/reading`,*/}\r\n                {/*state: this.props.data.bookList_follow*/}\r\n              {/*}}>书单</NavLink>*/}\r\n            {/*</Nav.Item>*/}\r\n            {/*<Nav.Item>*/}\r\n              {/*<NavLink to={{*/}\r\n                {/*pathname: `/${this.props.param}/follow`,*/}\r\n                {/*state: this.props.data.userList_follow*/}\r\n              {/*}}>关注</NavLink>*/}\r\n            {/*</Nav.Item>*/}\r\n            {/*<Nav.Item>*/}\r\n              {/*<NavLink to={{*/}\r\n                {/*pathname: `/${this.props.param}/befollowed`,*/}\r\n                {/*state: this.props.data.userList_be_followed*/}\r\n              {/*}}>被关注</NavLink>*/}\r\n            {/*</Nav.Item>*/}\r\n          {/*</div>*/}\r\n          {/*<hr/>*/}\r\n\r\n\r\n          <div className=\"content\">\r\n            {/*<BrowserRouter>*/}\r\n            {/*<Switch>*/}\r\n              {/*<Route path={`/${this.props.param}/write`}*/}\r\n                     {/*component={Book}/>*/}\r\n              {/*<Route path={`/${this.props.param}/reading`}*/}\r\n                     {/*component={Book}/>*/}\r\n              {/*<Route path={`/${this.props.param}/follow`}*/}\r\n                     {/*component={UserList}/>*/}\r\n              {/*<Route path={`/${this.props.param}/befollowed`}*/}\r\n                     {/*component={UserList}/>*/}\r\n            {/*</Switch>*/}\r\n            <Tabs defaultActiveKey=\"write\">\r\n              <Tab eventKey=\"write\" title=\"作品集\">\r\n               <BookList data={this.props.data.bookList_write}/>\r\n              </Tab>\r\n              <Tab eventKey=\"love\" title=\"书单\">\r\n                <BookList data={this.props.data.bookList_follow}/>\r\n\r\n              </Tab>\r\n              <Tab eventKey=\"focus\" title=\"关注\" >\r\n                {console.log(this.props.data)}\r\n                <UserList data={this.props.data.userList_follow}/>\r\n              </Tab>\r\n              <Tab eventKey=\"befollowed\" title=\"被关注\" >\r\n                <UserList data={this.props.data.userList_be_followed}/>\r\n              </Tab>\r\n            </Tabs>\r\n            {/*</BrowserRouter>*/}\r\n          </div>\r\n\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Page;\r\n","import React, {Component} from 'react';\r\nimport HigherLogin from \"../higher/HigherLogin\";\r\nimport wrapWithAjaxGetData from \"../higher/wrapWithAjaxGetData\";\r\nimport '../../css/mypage.css'\r\nimport Page from \"./Page\";\r\n\r\nclass MyPage extends Component {\r\n\r\n  render() {\r\n    // console.log(this.props);\r\n    return (\r\n        <Page param=\"mypage\" data={this.props.data}/>\r\n    );\r\n  }\r\n}\r\n\r\nMyPage = wrapWithAjaxGetData(MyPage,\r\n    `mypage?userid=${localStorage.getItem('userid')}`);\r\n\r\nMyPage = HigherLogin(MyPage); //验证是否登录\r\n\r\nexport default MyPage;\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport {Form, Button} from 'react-bootstrap'\r\nimport '../../css/main.css'\r\nclass Login extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      password: '',\r\n      userid: -1  // 这个用于设置cookie\r\n    };\r\n    this.handleUserInputChange = this.handleUserInputChange.bind(this);\r\n    this.handlePasswordInputChange = this.handlePasswordInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n  }\r\n\r\n  handleUserInputChange(e) {\r\n    this.setState({name: e.target.value});\r\n  }\r\n\r\n  handlePasswordInputChange(e) {\r\n    this.setState({password: e.target.value});\r\n  }\r\n\r\n  setCookie(name, value, days) {\r\n    let expires = \"\";\r\n    if (days) {\r\n      var date = new Date();\r\n      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n      expires = \"; expires=\" + date.toGMTString();\r\n    }\r\n    document.cookie = name + \"=\" + value + expires + \"; path=/\";\r\n  }\r\n\r\n  setLocalStorage() {\r\n    localStorage.setItem('name', this.state.name); //把用户名name 缓存到本地\r\n    // localStorage.setItem('password', this.state.password);\r\n    localStorage.setItem('userid', this.state.userid);\r\n  }\r\n\r\n  handleSubmit(event) { //成功之后执行这个方法\r\n\r\n    axios.post(\"http://localhost:8080/user/\" + event.target.value,\r\n        {name: this.state.name, password: this.state.password})\r\n    .then(res => {\r\n\r\n      if (res.status === 200) {\r\n        this.setState({userid: res.data}); //将返回的id赋给userid\r\n        this.setCookie(\"userid\", this.state.userid, 7); //设置7天的cookie\r\n        this.setLocalStorage(); //把数据顺便缓存到本地\r\n        this.props.history.push(\"/home\"); //登录成功之后 重定向到 home\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n\r\n          <div>\r\n            <Form.Label>账号</Form.Label>\r\n            <Form.Control type=\"text\" value={this.state.name}\r\n                          placeholder=\"username\"\r\n                          onChange={this.handleUserInputChange}/>\r\n          </div>\r\n          <div>\r\n            <Form.Label>密码</Form.Label>\r\n            <Form.Control type=\"password\" value={this.state.password}\r\n                          placeholder=\"password\"\r\n                          onChange={this.handlePasswordInputChange}/>\r\n          </div>\r\n          <div className=\"lg\">\r\n            <div className=\"login\">\r\n              <Button variant=\"outline-success\" onClick={this.handleSubmit} size=\"lg\"\r\n                      value=\"login\">登录</Button>\r\n            </div>\r\n            <div className=\"register\">\r\n              <Button variant=\"outline-primary\" onClick={this.handleSubmit} size=\"lg\"\r\n                      value=\"register\">注册</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React, {Component} from 'react';\r\nimport HigherLogin from \"../higher/HigherLogin\";\r\nimport Axios from 'axios';\r\nimport {Button, Form} from 'react-bootstrap'\r\nimport '../../css/main.css'\r\n\r\nclass Settings extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      userid: localStorage.getItem('userid'),\r\n      username: localStorage.getItem('name'),\r\n      email: localStorage.getItem('email'),\r\n      githubpage: localStorage.getItem('githubpage'),\r\n      homepage: localStorage.getItem('homepage'),\r\n      selfintroduction: localStorage.getItem('selfintroduction'),\r\n      photourl: '', //这里的照片地址一般不会在前端填写，会在照片传到后台的时候由后台决定它的位置,\r\n      // file:null\r\n    };\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n    // this.handleFile=this.handleFile.bind(this);\r\n  }\r\n\r\n  handleInputChange(event) {\r\n\r\n    switch (event.target.name) {\r\n      case 'email':\r\n        this.setState({email: event.target.value});\r\n        break;\r\n      case 'homepage':\r\n        this.setState({homepage: event.target.value});\r\n\r\n        break;\r\n      case 'githubpage':\r\n        this.setState({githubpage: event.target.value});\r\n\r\n        break;\r\n      case 'selfintroduction':\r\n        this.setState({selfintroduction: event.target.value});\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  handleClick() {\r\n    // 先将该信息缓存到本地\r\n    localStorage.setItem(\"email\", this.state.email);\r\n    localStorage.setItem(\"githubpage\", this.state.githubpage);\r\n    localStorage.setItem(\"homepage\", this.state.homepage);\r\n    localStorage.setItem(\"selfintroduction\", this.state.selfintroduction);\r\n\r\n    // const data={\r\n    //   \"information\":{\r\n    //     userid: this.state.userid,\r\n    //     username: this.state.username,\r\n    //     email: this.state.email,\r\n    //     githubpage: this.state.githubpage,\r\n    //     homepage: this.state.homepage,\r\n    //     selfintroduction: this.state.selfintroduction,\r\n    //     photourl: '', //这里的照片地址一般不会在前端填写，会在照片传到后台的时候由后台决定它的位置,\r\n    //   },\r\n    //   \"file\":this.state.file\r\n    // };\r\n\r\n    // let param=new FormData();\r\n    // param.append(\"userid\",this.state.userid);\r\n    // param.append(\"username\",this.state.username);\r\n    // param.append(\"email\",this.state.email);\r\n    // param.append(\"githubpage\",this.state.githubpage);\r\n    // param.append(\"homepage\",this.state.homepage);\r\n    // param.append(\"selfintroduction\",this.state.selfintroduction);\r\n    // param.append(\"photourl\",this.state.photourl);\r\n    // param.append(\"file\",this.state.file);\r\n    //\r\n    // let config = {\r\n    //   //添加请求头\r\n    //   headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    //   //添加上传进度监听事件\r\n    //   onUploadProgress: e => {\r\n    //     this.progress = ((e.loaded / e.total * 100) | 0) + \"%\";\r\n    //   }\r\n    // };\r\n\r\n    Axios.post('http://localhost:8080/settings', this.state)  //数据就是整个state\r\n    .then(res => {\r\n      alert(res.data);\r\n    }).catch(res => {\r\n      alert(res.data);\r\n    });\r\n\r\n  }\r\n\r\n  handleFile(event) {\r\n    this.setState({file: event.target.file});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n          <Form.Label>账户设置</Form.Label>\r\n          <hr/>\r\n          <Form.Label>选择照片作为头像：</Form.Label>\r\n          <Form.Control type=\"file\" accept=\"image/png, image/jpg\"\r\n                        onChange={this.handleFile}/>\r\n\r\n          <Form.Label>邮箱：</Form.Label>\r\n          <Form.Control type=\"email\"\r\n                        onChange={this.handleInputChange}\r\n                        value={this.state.email}\r\n                        name=\"email\"/>\r\n          <Form.Label>个人主页：</Form.Label>\r\n          <Form.Control type=\"text\"\r\n                        onChange={this.handleInputChange}\r\n                        value={this.state.homepage}\r\n                        name=\"homepage\"/>\r\n          <Form.Label>github主页：</Form.Label>\r\n          <Form.Control type=\"text\"\r\n                        onChange={this.handleInputChange}\r\n                        value={this.state.githubpage}\r\n                        name=\"githubpage\"/>\r\n          <Form.Label>个人介绍：</Form.Label>\r\n          <Form.Control type=\"text\"\r\n                        onChange={this.handleInputChange}\r\n                        value={this.state.selfintroduction}\r\n                        name=\"selfintroduction\"/>\r\n          <hr/>\r\n          <div className=\"savesettings\">\r\n            <Button variant=\"primary\" onClick={this.handleClick} size=\"lg\">保存设置</Button>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nSettings = HigherLogin(Settings);\r\n\r\nexport default Settings;\r\n","import React, {Component} from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport '../../css/main.css'\r\n\r\nclass Directory extends Component {\r\n\r\n  render() {\r\n    // console.log(\"Directory\" + this.props.param);\r\n    let info=this.props.param; //先取出数据\r\n    const chaptername=this.props.chaptername;\r\n    // let param={\r\n    //   chapterid:{\r\n    //     bookid:JSON.parse(info).bookid,\r\n    //     chaptername:this.props.chaptername\r\n    //   },\r\n    //   author:JSON.parse(info).author\r\n    // };\r\n\r\n    // param=JSON.stringify(param); //要字符串才能传进去\r\n    // console.log(param);\r\n    return (\r\n        <div className=\"Directory\">\r\n          <NavLink\r\n              to={`/read/${info}/content/${chaptername}`}>\r\n            {chaptername}\r\n          </NavLink>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Directory;\r\n","import React, {Component} from 'react';\r\nimport Directory from \"./Directory\";\r\nimport {Nav} from 'react-bootstrap'\r\n\r\nclass DirectoryList extends Component {\r\n\r\n  // getChapter(chaptername) {\r\n  //   let chapter = {};\r\n  //   for (let item of this.props.contents) {\r\n  //     console.log(item);\r\n  //     if (item.chaptername === chaptername) {\r\n  //       chapter = {\r\n  //         bookid: item.bookid,\r\n  //         chaptername: item.chaptername,\r\n  //         author: item.author,\r\n  //         datetime: item.datetime,\r\n  //         content: item.content\r\n  //       }\r\n  //     }\r\n  //   }\r\n  //   return chapter;\r\n  // }\r\n\r\n  // getComments(chaptername) {\r\n  //   // console.log(JSON.stringify(this.props.comments));  正常显示数据\r\n  //\r\n  //   let comments = [];\r\n  //   for (let item of this.props.comments) {\r\n  //     // console.log(item);\r\n  //\r\n  //     let temp;\r\n  //     if (item.chapterid.chaptername === chaptername) {\r\n  //       temp = {\r\n  //         chapterid: {\r\n  //           bookid: item.chapterid.bookid,\r\n  //           chaptername: item.chapterid.chaptername\r\n  //         },\r\n  //         commentuser: item.commentuser,\r\n  //         datetime: item.datetime,\r\n  //         content: item.content\r\n  //       };\r\n  //       comments.push(temp);\r\n  //\r\n  //     }\r\n  //\r\n  //   }\r\n  //\r\n  //   return comments;\r\n  // }\r\n\r\n  getNames() {\r\n    const directory=this.props.directory;\r\n    let names=[];\r\n    for(let item of directory){\r\n      names.push(item);\r\n    }\r\n    return names;\r\n\r\n  }\r\n\r\n  render() {\r\n    // console.log(this.props.param) 有数据\r\n    return (\r\n        <div className=\"sidebar_left\">\r\n          <span>目录</span>\r\n          <Nav className=\"flex-column\">\r\n            {this.getNames().map((item, idx) => {\r\n\r\n              // let content = this.getChapter(item.name);\r\n              // let comments = this.getComments(item.name);\r\n              return <Directory key={idx} chaptername={item}\r\n                                param={this.props.param}/>\r\n            })}\r\n          </Nav>\r\n        </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default DirectoryList;\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport '../../css/comment.css'\r\nimport {Button, FormControl, InputGroup} from \"react-bootstrap\";\r\n\r\nclass CommentInput extends Component {\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = { //由这两个加上 bookid chaptername commentuser 就是一个Comment对象\r\n      content: '',\r\n      datetime: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.FormControl.focus(); //当组件挂载之后，聚焦于 textarea\r\n  }\r\n\r\n  // 第三版新增\r\n  handleContentChange(e) {\r\n    this.setState({\r\n      content: e.target.value\r\n    })\r\n  }\r\n\r\n  getCookie(name) {\r\n    var nameEQ = name + \"=\";\r\n    var ca = document.cookie.split(';');\r\n    for (var i = 0; i < ca.length; i++) {\r\n      var c = ca[i];\r\n      while (c.charAt(0) === ' ') {\r\n        c = c.substring(1, c.length);\r\n      }\r\n      if (c.indexOf(nameEQ) === 0) {\r\n        return c.substring(nameEQ.length, c.length);\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  checkCookie() {\r\n    let userid = this.getCookie(\"userid\");\r\n    return !(userid === null || userid === -1);\r\n    //默认是-1  而无该key 则为''\r\n  }\r\n\r\n  handleSubmit(e) {  //把onSubmit 提到父组件中是为了及时更新列表\r\n    if (this.checkCookie()) {\r\n      if (this.props.onSubmit) {  //判断是否传入了 onSubmit 属性，有的话就调用该函数\r\n        let {content, datetime} = this.state;\r\n        datetime = new Date().getTime();\r\n        this.props.onSubmit({content, datetime});\r\n      }\r\n\r\n      this.setState({content: ''}); //重新将评论内容设置为空\r\n    } else {\r\n      alert(\"请先登录！\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n          <InputGroup className=\"mb-3\">\r\n            <FormControl\r\n                placeholder=\"评论\"\r\n                aria-label=\"评论\"\r\n                value={this.state.content}\r\n                onChange={this.handleContentChange.bind(this)}\r\n            />\r\n            <InputGroup.Append>\r\n              <Button variant=\"outline-secondary\"\r\n                      onClick={this.handleSubmit.bind(this)}>提交</Button>\r\n            </InputGroup.Append>\r\n          </InputGroup>\r\n\r\n\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CommentInput","import React, {Component} from 'react';\r\nimport '../../css/comment.css'\r\nimport '../../css/content.css'\r\nimport {ListGroupItem} from \"react-bootstrap\";\r\nimport Time from \"../Time\";\r\n\r\nclass Comment extends Component {\r\n\r\n  _getProcessedContent(content) {\r\n    // return content.replace(/`([\\S\\s]+?)`/g,`<code></code>`);\r\n    // 将content 中的`` 替换成 <code></code>\r\n    // 这样做会有严重的 Xss漏洞， 所以我们必须要手动把这些HTML标签转义，\r\n    return content\r\n    .replace(/&/g, \"&amp;\")\r\n    .replace(/</g, \"&lt;\")\r\n    .replace(/>/g, \"&gt;\")\r\n    .replace(/\"/g, \"&$quot;\")\r\n    .replace(/'/g, \"&#039;\")\r\n    .replace(/`([\\S\\s]+?)`/g, `<code></code>`);\r\n\r\n  }\r\n  //\r\n  // getDate(){\r\n  //   const {data} = this.props;\r\n  //   let date={\r\n  //     year:data.datetime\r\n  //   };\r\n  //   return date;\r\n  // }\r\n  render() {\r\n    const {data} = this.props; //获取评论数据\r\n    let datetime=data.commentid.datetime;  //在用户评论后更新评论列表时\r\n    //用户评论是 时间戳，在这里解析会报错\r\n    // console.log(datetime);\r\n    // datetime=JSON.stringify(datetime);\r\n    // let date=datetime.split(\"T\");\r\n    // let time=date[1].split(\".\");\r\n\r\n    return (\r\n        <ListGroupItem action variant=\"light\">\r\n\r\n          <div className=\"comment-margin\">\r\n            <span className=\"comment-user\">{data.commentuser}</span>{' '}:\r\n            <span className=\"title-date\"><Time data={datetime}/></span>\r\n            {/*{datetime}*/}\r\n          </div>\r\n          <p dangerouslySetInnerHTML={{\r\n            __html: this._getProcessedContent(data.content)\r\n          }}/>\r\n\r\n        </ListGroupItem>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Comment","import React, {Component} from 'react';\r\nimport Comment from \"./Comment\";\r\nimport {ListGroup} from 'react-bootstrap'\r\nclass CommentList extends Component {\r\n\r\n  data() {\r\n    const data = this.props.data;\r\n    // console.log(data); //数据正常\r\n    let datas = [];\r\n    if (data === undefined) {\r\n      return [];\r\n    }\r\n    for (let index in data) {\r\n      let temp;\r\n      // console.log(data[index]);\r\n      if (data[index] === [] || data[index] === undefined) {\r\n        continue;\r\n      }\r\n      temp = {\r\n        commentid: {\r\n          bookid: data[index].commentid.bookid,\r\n          chaptername: data[index].commentid.chaptername,\r\n          datetime: data[index].commentid.datetime,\r\n        },\r\n        commentuser: data[index].commentuser,\r\n        content: data[index].content\r\n      };\r\n\r\n      datas.push(temp);\r\n    }\r\n\r\n    return datas;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n        <ListGroup>\r\n        {this.data().map((item, idx) => {\r\n          return <Comment key={idx} data={item}/>\r\n        })}\r\n        </ListGroup>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CommentList;\r\n","import React, {Component} from 'react'\r\nimport CommentInput from './CommentInput'\r\nimport CommentList from './CommentList'\r\nimport '../../css/comment.css'\r\nimport axios from \"axios\";\r\n\r\nclass CommentApp extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      comments: [],\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getComments();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n    let chapter={...prevProps};\r\n    let newChapter={...this.props};\r\n    // console.log(chaptername);\r\n    // console.log(newChaptername);\r\n    if(chapter.chapterid.chaptername!==newChapter.chapterid.chaptername) this.getComments();\r\n  }\r\n\r\n  getComments() {\r\n    // console.log(this.props)\r\n   axios.post('http://localhost:8080/read/getcomments', this.props.chapterid)\r\n    .then(res => {\r\n          // console.log(res.data);\r\n          this.setState({comments: res.data})\r\n        }).catch(res => {\r\n      this.setState({comments: res.data});\r\n    });\r\n  }\r\n\r\n  handleSubmitComment(comment) {\r\n    // console.log(comment);  // 一开始证明数据已经到了 CommentApp\r\n\r\n    if (!comment) {\r\n      return;\r\n    } // 防止什么都没有输入，就点了发布的情况\r\n    if (!comment.content) {\r\n      return alert(\"你还没有输入评论内容\");\r\n    }\r\n    // 将评论数据压入，，然后重新渲染\r\n\r\n    // let datetime=comment.date;\r\n    // console.log(comment.datetime);\r\n    let newComment={\r\n      commentid:{\r\n        bookid:this.props.chapterid.bookid,\r\n        chaptername:this.props.chapterid.chaptername,\r\n        datetime:comment.datetime\r\n      },\r\n      commentuser:localStorage.getItem('name'),\r\n      content:comment.content,\r\n    };\r\n    this.state.comments.push(newComment); // 这里直接改变了 state，但是具体的原因有兴趣可以看 官方文档\r\n\r\n    this.setState({\r\n      comments: this.state.comments\r\n    });\r\n\r\n    axios.post('http://localhost:8080/read/addcomment',newComment)\r\n    .then(res=>{\r\n      // alert(res.data);\r\n    }).catch(err=>{\r\n      alert(err.data)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"wrapper\">\r\n          <CommentInput onSubmit={this.handleSubmitComment.bind(this)}/>\r\n          <CommentList data={this.state.comments}/>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default CommentApp","import React, {Component} from 'react';\r\n\r\nimport '../../css/main.css'\r\nimport Button from \"react-bootstrap/Button\";\r\nimport axios from 'axios'\r\n\r\nclass Textarea extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      content: this.props.content\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({content: event.target.value})\r\n  }\r\n\r\n  handleSubmit() {\r\n    let chapter = {\r\n      chapterid: this.props.chapterid,\r\n      content: this.state.content,\r\n      datetime: new Date()\r\n    };\r\n\r\n    axios.post(\"http://localhost:8080/write/updatechapter\", chapter)\r\n    .then(res => {\r\n      alert(res.data)\r\n    })\r\n    .catch(err => {\r\n      alert(err.data)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let save = <Button onClick={this.handleSubmit} action\r\n                       variant=\"outline-success\">保存</Button>;\r\n    return (\r\n        <div>\r\n          <textarea className=\"textarea\" value={this.state.content}\r\n                    onChange={this.handleChange}/>\r\n          {save}\r\n        </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Textarea;\r\n","import React, {Component} from 'react';\r\nimport CommentApp from \"../comment/CommentApp\";\r\nimport '../../css/content.css'\r\nimport axios from \"axios\";\r\nimport Time from \"../Time\";\r\n\r\nimport marked from 'marked';\r\nimport hljs from 'highlight.js';\r\nimport ReadSideBar from \"./Read\";\r\nimport {ListGroupItem} from \"react-bootstrap\";\r\nimport Textarea from \"./Textarea\";\r\n\r\nvar chapterid = {};\r\n\r\nclass MainContent extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // console.log(chapterid)\r\n    this.state = {\r\n      data: '',\r\n      bookid: '',\r\n      chaptername: '',\r\n      commentuser: '',\r\n      content: '',\r\n      datetime: '',\r\n      contentItem: true //用于更换Edit\r\n    };\r\n\r\n    this.handleEdit = this.handleEdit.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n\r\n    marked.setOptions({ //设置markdown相关配置\r\n      renderer: new marked.Renderer(),\r\n      gfm: true,\r\n      tables: true,\r\n      breaks: true,\r\n      pedantic: false,\r\n      sanitize: true,\r\n      smartLists: true,\r\n      smartypants: false,\r\n      highlight: function (code) {\r\n        return hljs.highlightAuto(code).value;\r\n      },\r\n    });\r\n    this.getData()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (typeof (this.props.match) === \"undefined\") {\r\n      return;\r\n    }\r\n    let chaptername = prevProps.match.params.chaptername;\r\n    let newChaptername = this.props.match.params.chaptername;\r\n    if (chaptername !== newChaptername) {\r\n      this.getData();\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    // console.log(this.props)\r\n    if (typeof (this.props.match) === \"undefined\") {\r\n      return;\r\n    }\r\n    chapterid = {\r\n      bookid: JSON.parse(this.props.match.params.param).bookid,\r\n      chaptername: this.props.match.params.chaptername\r\n    };\r\n    // console.log(chapterid);\r\n    axios.post('http://localhost:8080/read/getchapter', chapterid)\r\n    .then(res => {\r\n      this.setState({data: res.data});\r\n      this.analyse();\r\n    }).catch(res => {\r\n      this.setState({data: \"加载错误\"});\r\n    });\r\n    // console.log(this.props);\r\n\r\n  }\r\n\r\n  analyse() {\r\n    const data = this.state.data;\r\n\r\n    this.setState({\r\n      bookid: data.chapterid.bookid,\r\n      chaptername: data.chapterid.chaptername,\r\n      author: JSON.parse(this.props.match.params.param).author,\r\n      content: data.content,\r\n      datetime: data.datetime\r\n    });\r\n\r\n    this.setState({\r\n      contentItem: <div className=\"content\">\r\n        <div\r\n            id=\"content\"\r\n            className=\"article-detail\"\r\n            dangerouslySetInnerHTML={{\r\n              __html: this.state.content ? marked(this.state.content) : null,\r\n            }}/>\r\n      </div>\r\n    });\r\n  }\r\n\r\n  handleEdit() {\r\n    let chapterid = {\r\n      bookid: JSON.parse(this.props.match.params.param).bookid,\r\n      chaptername: this.props.match.params.chaptername\r\n    };\r\n\r\n    this.setState({\r\n      contentItem: <Textarea content={this.state.content} chapterid={chapterid}/>\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    let time = this.state.datetime;\r\n    let item = \"\";\r\n    if (this.state.author === localStorage.getItem(\"name\")) {\r\n      item = <ul>\r\n        <li><ListGroupItem action\r\n                           variant=\"warning\"\r\n                           onClick={this.handleEdit}>更新章节</ListGroupItem></li>\r\n      </ul>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n          <span className=\"content-edit\">{item}</span>\r\n          <div className=\"title\">\r\n            <span><h3>{this.state.chaptername}</h3></span>\r\n\r\n            <span className=\"title-author\">{this.state.author}</span>\r\n            {/*<span className=\"title-date\">{time}</span>*/}\r\n            <span className=\"title-date\"><Time data={time}/></span>\r\n\r\n            <hr/>\r\n          </div>\r\n\r\n          {this.state.contentItem}\r\n\r\n          <div className=\"comment\">\r\n            <CommentApp chapterid={chapterid}/>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainContent;\r\n","import React, {Component} from 'react';\r\n\r\nimport '../../css/main.css'\r\nimport MainContent from \"./MainContent\";\r\nimport {Route} from \"react-router-dom\";\r\n\r\nclass Content extends Component {\r\n\r\n  render() {\r\n    // console.log(\"Directory\" + this.props.param);\r\n    // console.log(this.props.data);\r\n    let item = '';\r\n    if (typeof (this.props.data)=== 'undefined') {\r\n      item = <Route path=\"/read/:param/content/:chaptername\"\r\n                    component={MainContent}/>\r\n    } else {\r\n      item = <div>\r\n        书本简介：\r\n        <hr/>\r\n        {this.props.data.des.description}\r\n      </div>\r\n    }\r\n    return (\r\n        item\r\n    );\r\n  }\r\n}\r\n\r\nexport default Content;\r\n","import React, {Component} from 'react';\r\n\r\nimport '../../css/main.css'\r\nimport {ListGroup} from \"react-bootstrap\";\r\nimport axios from 'axios'\r\n\r\n// 这个组件渲染  关注，收藏 到顶端，\r\nclass ReadSideBar extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { //默认都是没有收藏，关注\r\n      followauthor: \"关注作者\",\r\n      followbook: \"点赞收藏\"\r\n    };\r\n    this.handleFollowAuthor = this.handleFollowAuthor.bind(this);\r\n    this.handleFollowBook = this.handleFollowBook.bind(this);\r\n    this.handleTop = this.handleTop.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    //需要先获得是否有关注或者收藏\r\n    let followbookid = {\r\n      bookid: this.props.id,\r\n      userid: localStorage.getItem('userid')\r\n    };\r\n\r\n    axios.post(\"http://localhost:8080/read/isfollowbook\", followbookid)\r\n    .then(res => {\r\n      if (res.data) { //如果已经点赞过了\r\n        // alert(res.data);\r\n        this.setState({followbook: \"取消点赞\"});\r\n      } else {\r\n        this.setState({followbook: \"点赞收藏\"});\r\n      }\r\n    }).catch(err => {\r\n      alert(err.data);\r\n    });\r\n\r\n    let param = {\r\n      userid: localStorage.getItem('userid'),\r\n      authorname: this.props.author\r\n    };\r\n    axios.get(\r\n        `http://localhost:8080/read/isfollowauthor?userid=${param.userid}&authorname=${param.authorname}`)\r\n    .then(res => {\r\n      if (res.data) {\r\n        this.setState({followauthor: \"取消关注\"});\r\n      } else {\r\n        this.setState({followauthor: \"关注作者\"});\r\n      }\r\n    }).catch(err => {\r\n      alert(err.data);\r\n    })\r\n  }\r\n\r\n  handleFollowBook() { //需要bookid 和 userid\r\n    // axios.post();\r\n    if (typeof (this.props.id) === \"undefined\" || localStorage.getItem(\r\n        'userid')\r\n        === \"undefined\") {\r\n      return;\r\n    }\r\n    let followbookid = {\r\n      bookid: this.props.id,\r\n      userid: localStorage.getItem('userid')\r\n    };\r\n    if (this.state.followbook === \"点赞收藏\") {\r\n      axios.post(\"http://localhost:8080/read/addfollowbook\", followbookid)\r\n      .then(res => {\r\n        //点赞之后变更显示\r\n        this.setState({followbook: \"取消点赞\"});\r\n        // alert(\"收藏成功\")\r\n      }).catch(err => {\r\n        alert(\"收藏失败\" + err.data);\r\n      })\r\n    } else {\r\n      axios.post(\"http://localhost:8080/read/deletefollowbook\", followbookid)\r\n      .then(res => {\r\n        this.setState({followbook: \"点赞收藏\"});\r\n        // alert(\"取消成功\")\r\n      }).catch(err => {\r\n        alert(\"取消失败\" + err.data);\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  handleFollowAuthor() { //需要authorid 和 userid\r\n    if (typeof (this.props.author) === \"undefined\" || localStorage.getItem(\r\n        'userid') === \"undefined\") {\r\n      return;\r\n    }\r\n    let param = {\r\n      userid: localStorage.getItem('userid'),\r\n      authorname: this.props.author\r\n    };\r\n    if (this.state.followauthor === \"关注作者\") {\r\n      axios.get(\r\n          `http://localhost:8080/read/addfollowauthor?userid=${param.userid}&authorname=${param.authorname}`)\r\n      .then(res => {\r\n        //点赞之后变更显示\r\n        this.setState({followauthor: \"取消关注\"});\r\n        // alert(\"关注成功\")\r\n      }).catch(err => {\r\n        alert(\"关注失败\" + err.data);\r\n      })\r\n    } else {\r\n      axios.get(\r\n          `http://localhost:8080/read/deletefollowauthor?userid=${param.userid}&authorname=${param.authorname}`)\r\n      .then(res => {\r\n        //点赞之后变更显示\r\n        this.setState({followauthor: \"关注作者\"});\r\n        // alert(\"取消成功\")\r\n      }).catch(err => {\r\n        alert(\"取消失败\" + err.data);\r\n      })\r\n    }\r\n  }\r\n\r\n  handleTop() {\r\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n        <div className=\"sidebar_right\">\r\n          <ListGroup>\r\n            <li onClick={this.handleFollowBook}><ListGroup.Item action\r\n                                                                variant=\"info\">{this.state.followbook}</ListGroup.Item>\r\n            </li>\r\n            <li onClick={this.handleFollowAuthor}><ListGroup.Item action\r\n                                                                  variant=\"primary\">{this.state.followauthor}</ListGroup.Item>\r\n            </li>\r\n            <li onClick={this.handleTop}><ListGroup.Item action\r\n                                                         variant=\"success\">到顶部</ListGroup.Item>\r\n            </li>\r\n\r\n          </ListGroup>\r\n        </div>\r\n    )\r\n        ;\r\n  }\r\n}\r\n\r\nexport default ReadSideBar;\r\n","import React, {Component} from 'react';\r\nimport axios from \"axios\";\r\nimport DirectoryList from \"./DirectoryList\";\r\nimport Content from \"./Content\";\r\nimport ReadSideBar from \"./ReadSideBar\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport '../../css/main.css'\r\n// 由三个组件构成，目录 主要内容 评论列表\r\n// 这里的 CommentList和之前Message中的不一样，这里是需要根据 Chapterid 来确定评论的，而之前的是经过高级组件固定化的\r\n\r\nclass Read extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      bookid: JSON.parse(this.props.match.params.data).bookid,\r\n      author: JSON.parse(this.props.match.params.data).author,\r\n      directory: [],\r\n      // description:this.props.location.state.des.description\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n\r\n  }\r\n\r\n  componentDidMount() { //获得数据\r\n    // console.log(this.state.bookid); 有数据\r\n    axios.get(\r\n        'http://localhost:8080/read/getdirectory?bookid=' + this.state.bookid)\r\n    .then(res => {\r\n      // console.log(res.data); //有数据\r\n      this.setState({directory: res.data});\r\n    }).catch(res => {\r\n      // alert(res.data);\r\n      // this.setState({directory: \"加载错误\"})\r\n    });\r\n\r\n    //   axios.all([this.getBook(), this.getComments()]).then(\r\n    //       axios.spread((res1, res2) => {\r\n    //         // alert(JSON.stringify(res2.data)); 评论正常获取\r\n    //         this.setState({data: res1.data, commentsdata: res2.data});\r\n    //         this.getData(); //保证是在获取之后渲染\r\n    //       })).catch((res1, res2) => {\r\n    //     this.setState({data: \"加载错误\", comments: \"加载错误\"})\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  // 先渲染目录和 第一章的内容  ,然后绑定目录和内容的更新关系\r\n  render() {\r\n    // let content=document.getElementById(\"article\");\r\n    // console.log(content);\r\n    // if(content.val===''){\r\n    //   content.val=`{书本内容简介：${this.props.location.state.des.description}`;\r\n    // }\r\n\r\n    return (\r\n        <div>\r\n          <Button className=\"chapter_plus\" variant=\"light\">增加章节</Button>\r\n          <ReadSideBar id={this.state.bookid} author={this.state.author}/>\r\n          <DirectoryList directory={this.state.directory}\r\n                         param={this.props.match.params.data}/>\r\n          <div>\r\n          </div>\r\n          <div id=\"article\">\r\n            <Content data={this.props.location.state}/>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Read;\r\n","import React, {Component} from 'react';\r\nimport axios from \"axios\";\r\nimport Page from \"./Page\";\r\n\r\nvar id = '';\r\n\r\nclass OtherPage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: ''\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    id = {...this.props.match.params.id};\r\n    id = id[0];\r\n    console.log(id)\r\n    axios.get(`http://localhost:8080/mypage?userid=${id}`)\r\n    .then(res => {\r\n      // alert(JSON.stringify(res.data)); 有数据\r\n      this.setState({data: res.data});\r\n\r\n    }).catch(res => {\r\n      this.setState({data: res.data})\r\n    })\r\n  }\r\n\r\n  render() {\r\n    // console.log(this.props.match.params);\r\n    // console.log(this.state.data);\r\n    return (\r\n        <Page param=\"otheruser\" data={this.state.data}/>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default OtherPage;\r\n","import React, {Component} from 'react';\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport {Container} from \"react-bootstrap\"\r\n\r\nimport Home from \"../home/Home\";\r\nimport Write from \"../write/Write\";\r\nimport Message from \"../message/Message\";\r\nimport MyPage from \"../mypage/MyPage\";\r\nimport Login from \"../login/Login\";\r\nimport Settings from \"../settings/Settings\";\r\nimport Read from \"../read/Read\";\r\n\r\nimport '../../App.css'\r\nimport OtherPage from \"../mypage/OtherPage\";\r\n\r\nclass Content extends Component {\r\n  render() {\r\n    return (\r\n        <Container>\r\n          <div className=\"Content\">\r\n            <Switch>\r\n              <Route path=\"/home\" exact component={Home}/>\r\n              <Route path=\"/write\" component={Write}/>\r\n              <Route path=\"/message\" component={Message}/>\r\n              <Route path=\"/mypage\" component={MyPage}/>\r\n              <Route path=\"/user/login\" component={Login}/>\r\n              <Route path=\"/settings\" component={Settings}/>\r\n              <Route path=\"/read/:data\" component={Read}/>\r\n              <Route path=\"/write\" component={Write}/>\r\n              <Route path=\"/otheruser/:id\" component={OtherPage}/>\r\n            </Switch>\r\n          </div>\r\n        </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Content;\r\n","import React, {Component} from 'react';\nimport './App.css';\nimport Navigator from \"./js/main/Navigator\";\nimport Content from \"./js/main/Content\";\n\n\n// 最终由 Navigator Content Footer 三个组件构成\nclass App extends Component {\n  render() {\n    return (\n        <div className=\"App\">\n          <Navigator/>\n          <Content/>\n        </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <BrowserRouter>\n\n      <App/>\n\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}